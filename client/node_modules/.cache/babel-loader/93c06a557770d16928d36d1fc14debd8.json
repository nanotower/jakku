{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from'react';import{Redirect}from'react-router-dom';import{NavLink}from\"react-router-dom\";import'date-fns';import DateFnsUtils from'@date-io/date-fns';import TextField from'@material-ui/core/TextField';import{MuiPickersUtilsProvider,KeyboardTimePicker,KeyboardDatePicker}from'@material-ui/pickers';import RoutesService from\"../../RoutesService\";import LocationSearchInput from\"../atoms/LocationSearchInput\";import moment from'moment';import{withRouter}from'react-router-dom';var CreateBid=/*#__PURE__*/function(_Component){_inherits(CreateBid,_Component);function CreateBid(props){var _this;_classCallCheck(this,CreateBid);_this=_possibleConstructorReturn(this,_getPrototypeOf(CreateBid).call(this));_this.state={sent:false};_this.routes=new RoutesService();return _this;}_createClass(CreateBid,[{key:\"updateFormData\",value:function updateFormData(e,field){var newState=_objectSpread({},this.state);newState[field]=e.target.value;this.setState(newState);}},{key:\"sendState\",value:function sendState(e){e.preventDefault();this.setState(_objectSpread({},this.state,{sent:true}));this.routes.createBid(this.state);// .then(() => {\n//   this.props.fromApp(this.state);\n//   // this.props.history.push('/show-bid')\n// })\n// .catch(e => console.log(e))\n}},{key:\"changeState\",value:function changeState(newValue){this.setState(_objectSpread({},this.state,{location:{lat:newValue.lat,lng:newValue.lng,address:newValue.address}}));}},{key:\"transformDate\",value:function transformDate(){return moment(this.state.deadLine).format('LL');}},{key:\"render\",value:function render(){var _this2=this;if(!this.state.sent){return React.createElement(React.Fragment,null,React.createElement(\"form\",null,React.createElement(\"label\",{htmlFor:\"input-day\"},\"D\\xEDa de finalizaci\\xF3n\"),React.createElement(\"input\",{type:\"date\",placeholder:\"Cuando quieres que se lo lleven\",name:\"dia\",id:\"input-day\",onChange:function onChange(e){return _this2.updateFormData(e,\"deadLine\");}}),React.createElement(\"label\",{htmlFor:\"hora\"},\"Hora de recogida\"),React.createElement(\"input\",{type:\"time\",placeholder:\"Hora de comienzo de recogida\",name:\"hora\",onChange:function onChange(e){return _this2.updateFormData(e,\"from\");}}),React.createElement(\"label\",{htmlFor:\"fin\"},\"Finalizaci\\xF3n de recogida\"),React.createElement(\"input\",{type:\"time\",placeholder:\"Hora de finalizaci\\xF3n de recogida\",name:\"fin\",onChange:function onChange(e){return _this2.updateFormData(e,\"to\");}}),React.createElement(\"label\",{htmlFor:\"location\"},\"Lugar de recogida\"),React.createElement(LocationSearchInput,{changeState:function changeState(newValue){return _this2.changeState(newValue);},value:this.state.value,name:\"location\",placeholder:\"Calle o barrio\",onChange:function onChange(e){return _this2.updateFormData(e,\"location\");}}),React.createElement(\"button\",{onClick:function onClick(e){return _this2.sendState(e);}},\"Submit\")));}else{return React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"Tu mudanza\"),React.createElement(\"h3\",null,\"Finaliza el d\\xEDa \",this.transformDate()),React.createElement(\"h3\",null,\"Los compradores ir\\xE1n a recogerlo de \",this.state.from,\" a \",this.state.to),React.createElement(\"h3\",null,\"en \",this.state.location.address),React.createElement(\"p\",null,\"Ya puedes a\\xF1adir cajas a tu mudanza\"),React.createElement(NavLink,{to:\"/create-product\"},\"A\\xF1adir caja\"));}}}]);return CreateBid;}(Component);export default withRouter(CreateBid);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/organisms/CreateBid.jsx"],"names":["React","Component","Redirect","NavLink","DateFnsUtils","TextField","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","RoutesService","LocationSearchInput","moment","withRouter","CreateBid","props","state","sent","routes","e","field","newState","target","value","setState","preventDefault","createBid","newValue","location","lat","lng","address","deadLine","format","updateFormData","changeState","sendState","transformDate","from","to"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\n\nimport 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport RoutesService from \"../../RoutesService\";\nimport LocationSearchInput from \"../atoms/LocationSearchInput\";\nimport moment from 'moment';\nimport { withRouter } from 'react-router-dom'\n\n\n\n\nclass CreateBid extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      sent: false\n     \n    }\n    this.routes = new RoutesService()\n  }\n  updateFormData(e,field){\n    let newState = {\n      ...this.state\n    };\n    newState[field] = e.target.value;\n\n    this.setState(newState);\n  }\n\n  sendState(e) {\n    e.preventDefault();\n    this.setState({\n      ...this.state,\n      sent: true\n    });\n    this.routes.createBid(this.state)\n    // .then(() => {\n    \n    //   this.props.fromApp(this.state);\n    //   // this.props.history.push('/show-bid')\n    // })\n    // .catch(e => console.log(e))\n    \n  }\n  changeState(newValue) {\n    this.setState({\n      ...this.state,\n      location: {\n        lat: newValue.lat,\n        lng: newValue.lng,\n        address: newValue.address\n      }\n    });\n  }\n  transformDate () {\n    return moment(this.state.deadLine).format('LL')\n  }\n\n\n  render() {\n    if(!this.state.sent) {\n      return (\n        <React.Fragment>\n        <form>\n          <label  htmlFor=\"input-day\">Día de finalización</label>\n          <input type=\"date\" placeholder=\"Cuando quieres que se lo lleven\" name=\"dia\" id=\"input-day\" onChange={e => this.updateFormData(e, \"deadLine\")} ></input>\n          <label htmlFor=\"hora\">Hora de recogida</label>\n          <input type=\"time\" placeholder=\"Hora de comienzo de recogida\" name=\"hora\"  onChange={e => this.updateFormData(e, \"from\")} ></input>\n          <label htmlFor=\"fin\">Finalización de recogida</label>\n          <input type=\"time\" placeholder=\"Hora de finalización de recogida\" name=\"fin\"  onChange={e => this.updateFormData(e, \"to\")}></input>\n          <label htmlFor=\"location\">Lugar de recogida</label>\n          <LocationSearchInput changeState={newValue => this.changeState(newValue)}\n          value={this.state.value} name=\"location\" placeholder=\"Calle o barrio\" onChange={e => this.updateFormData(e, \"location\")}></LocationSearchInput>\n          <button  onClick={e => this.sendState(e)}>Submit</button>\n        </form>\n        </React.Fragment>\n      )\n    }\n    else {\n      return (\n        <React.Fragment>\n          <h1>Tu mudanza</h1>\n           <h3>Finaliza el día {this.transformDate()}</h3>\n        <h3>Los compradores irán a recogerlo de {this.state.from} a {this.state.to}</h3>\n        <h3>en {this.state.location.address}</h3>\n        <p>Ya puedes añadir cajas a tu mudanza</p>\n        <NavLink to={`/create-product`}>Añadir caja</NavLink>\n        </React.Fragment>  \n      )\n    }\n    \n  }\n}\n\nexport default withRouter(CreateBid)"]},"metadata":{},"sourceType":"module"}